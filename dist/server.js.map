{"version":3,"sources":["../Finance_api/server.js"],"names":["app","use","bodyParser","urlencoded","extended","json","express","secret","resave","saveUninitialized","cookie","maxAge","set","path","join","__dirname","engine","ejs","renderFile","options","useNewUrlParser","useCreateIndex","useUnifiedTopology","uri","mongoose","connect","then","connected","console","log","err","passport","initialize","session","users","index","expenses","port","process","env","PORT","listen","module","exports"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;AACA,IAAMA,GAAG,GAAG,0BAAZ,C,CACA;;AACAA,GAAG,CAACC,GAAJ,CACEC,uBAAWC,UAAX,CAAsB;AACpBC,EAAAA,QAAQ,EAAE;AADU,CAAtB,CADF;AAKAJ,GAAG,CAACC,GAAJ,CAAQC,uBAAWG,IAAX,EAAR,E,CAEA;;AACAL,GAAG,CAACC,GAAJ,CAAQ,+BAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,uBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQK,oBAAQD,IAAR,EAAR;AACAL,GAAG,CAACC,GAAJ,CAAQ,mCAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,gCAAQ;AACdM,EAAAA,MAAM,EAAE,QADM;AAEdC,EAAAA,MAAM,EAAE,IAFM;AAGdC,EAAAA,iBAAiB,EAAE,IAHL;AAIdC,EAAAA,MAAM,EAAE;AACJC,IAAAA,MAAM,EAAE;AADJ;AAJM,CAAR,CAAR;AASAX,GAAG,CAACY,GAAJ,CAAQ,OAAR,EAAiBC,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAf,GAAG,CAACY,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;AACAZ,GAAG,CAACgB,MAAJ,CAAW,MAAX,EAAmBC,gBAAIC,UAAvB,E,CAEA;;AACAlB,GAAG,CAACC,GAAJ,CAAQK,8BAAeO,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR,E,CAEA;;AACA,IAAMI,OAAO,GAAG;AACdC,EAAAA,eAAe,EAAE,IADH;AAEdC,EAAAA,cAAc,EAAE,IAFF;AAGdC,EAAAA,kBAAkB,EAAE;AAHN,CAAhB;AAKA,IAAMC,GAAG,GACT,mEADA;;AAEAC,qBAASC,OAAT,CAAiBF,GAAjB,EAAsBJ,OAAtB,EACGO,IADH,CACQ,UAAAC,SAAS;AAAA,SAAIC,OAAO,CAACC,GAAR,mCAAJ;AAAA,CADjB,WAES,UAAAC,GAAG;AAAA,SAAIF,OAAO,CAACC,GAAR,iEAAqEC,GAArE,EAAJ;AAAA,CAFZ,E,CAIA;;;AACA9B,GAAG,CAACC,GAAJ,CAAQ8B,qBAASC,UAAT,EAAR;AACAhC,GAAG,CAACC,GAAJ,CAAQ8B,qBAASE,OAAT,EAAR,E,CAEA;;AACAjC,GAAG,CAACC,GAAJ,CAAQiC,iBAAR;AACAlC,GAAG,CAACC,GAAJ,CAAQkC,iBAAR;AACAnC,GAAG,CAACC,GAAJ,CAAQmC,oBAAR;AAEA,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AACAxC,GAAG,CAACyC,MAAJ,CAAWJ,IAAX,EAAiB,YAAM;AACrBT,EAAAA,OAAO,CAACC,GAAR,sCAA0CQ,IAA1C;AACD,CAFD;AAIAK,MAAM,CAACC,OAAP,GAAiB3C,GAAjB","sourcesContent":["import express from 'express';\nimport bodyParser from 'body-parser';\nimport cors from 'cors';\nimport cookieParser from 'cookie-parser';\nimport mongoose from 'mongoose';\nimport passport from './config/passport';\nimport users from './routes/users';\nimport index from './routes/index';\nimport expenses from './routes/expenses';\nimport ejs from 'ejs';\nimport path from 'path';\nimport expressValidator from 'express-validator';\nimport session from 'express-session';\nimport flash from 'express-flash';\n\n// require('dotenv').config();\nconst app = express();\n//BODY PARSE\napp.use(\n  bodyParser.urlencoded({\n    extended: false\n  })\n);\napp.use(bodyParser.json());\n\n//CORS\napp.use(flash());\napp.use(cors());\napp.use(express.json());\napp.use(expressValidator());\napp.use(session({\n  secret: 'secret',\n  resave: true,\n  saveUninitialized: true,\n  cookie: {\n      maxAge: 1209600000\n  },\n}));\n\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'html');\napp.engine('html', ejs.renderFile);\n\n//Set the public folder\napp.use(express.static(path.join(__dirname, 'public')));\n\n//CONNECT MONGODB\nconst options = {\n  useNewUrlParser: true,\n  useCreateIndex: true,\n  useUnifiedTopology: true\n}\nconst uri =\n\"mongodb://fintrack:fintrack12345@ds153412.mlab.com:53412/fintrack\";\nmongoose.connect(uri, options)\n  .then(connected => console.log(`Database connection established`))\n  .catch(err => console.log(`There was an error connecting to database, the err is ${err}`));\n  \n// Passport middleware\napp.use(passport.initialize());\napp.use(passport.session());\n\n// Routes\napp.use(users);\napp.use(index);\napp.use(expenses);\n\nconst port = process.env.PORT || 5000;\napp.listen(port, () => {\n  console.log(`Server is running on port: ${port}`);\n});\n\nmodule.exports = app;"],"file":"server.js"}